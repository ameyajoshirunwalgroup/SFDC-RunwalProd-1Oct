<aura:component controller="CustomerPortalHomeController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global">
<aura:attribute name="RunwalHomeWrapList" type="List" />
<aura:attribute name="selectedTabBookingId" type="String" />
<lightning:navigation aura:id="navService"/>
<aura:attribute name="isOpen" type="boolean" default="false"/>

    
<aura:handler name="init" value="{!this}" action="{!c.doInit}"/>    
    <lightning:tabset selectedTabId="{!v.selectedTabBookingId}">
                 <aura:iteration items="{!v.RunwalHomeWrapList}" var="bookvar" indexVar="index">
                     <lightning:tab label="{!'Interest Details for Booking '+ bookvar.unitNumber}" id="{!bookvar.BookingId}">
    
    <div class="slds-grid slds-wrap slds-gutters">
                <div class="slds-col slds-size_1-of-1 slds-large-size_12-of-12">
                    <div class="slds-section slds-is-open">
                    <div class="slds-p-top_small"></div>
                    <lightning:layout multipleRows="true">
                        <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12" largeDeviceSize="12" flexibility="auto" padding="horizontal-medium" class="slds-box slds-box_small">
                            <div class="slds-p-top_small"></div>
                            <div class="slds-form" role="list">
                                <div class="{!$Browser.isPhone ? '':'slds-form__row'}">
                                    <div class="{!$Browser.isPhone ? '':'slds-form__item'}" role="{!$Browser.isPhone ? '':'listitem'}">
                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                            <label class="slds-form-element__label slds-p-top_small" for="single-form-element-id-02">TOTAL INTEREST CHARGEABLE</label>
                                            <div class="slds-form-element__control">
                                                <lightning:input type="number" id="single-form-element-id-02" readonly="true" formatter="currency" value="{!bookvar.totalInterest}" />
                                            </div>
                                        </div>
                                        
                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                            <label class="slds-form-element__label slds-p-top_small" for="single-form-element-id-02">INTEREST AMOUNT WAIVED</label>
                                            <div class="slds-form-element__control">
                                                <lightning:input readonly="true" type="text" id="single-form-element-id-02" value="{!bookvar.totalInterestWaived}" />
                                            </div>
                                        </div>
                                        
                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
											<label class="slds-form-element__label slds-p-top_x-small" for="single-form-element-id-email">INTEREST BALANCE</label>
												
												<lightning:input type="text" readonly="true" id="single-form-element-id-email" value="{!bookvar.totalamountbalance}" />
                                           
										</div>
                                        
                                         <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
											<lightning:button variant="brand" class="sizeButton textInput" label="Download" title="Download" onclick="{! c.downloadfile }" name="{!bookvar}"/>
                                             
                                                                                        
										</div>
                                    </div>
                                    
                                </div>
                                
                                <div class="slds-p-top_small"></div>
								<div class="{!$Browser.isPhone ? '':'slds-form__row'}">
                                    <div class="{!$Browser.isPhone ? '':'slds-form__item'}" role="{!$Browser.isPhone ? '':'listitem'}">
										
                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
											<label class="slds-form-element__label slds-p-top_x-small" for="single-form-element-id-email">TOTAL COLLECTIBLE</label>
												
												<lightning:input type="text" readonly="true" id="single-form-element-id-email" value="{!bookvar.totalcollectibleInterest}" />
                                           
										</div>
                                        
                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
											<label class="slds-form-element__label slds-p-top_x-small" for="single-form-element-id-email">INTEREST COLLECTED</label>
												
												<lightning:input type="text" readonly="true" id="single-form-element-id-email" value="{!bookvar.totalamountcollected}" />
                                           
										</div>
                                        
                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
											      
										</div>
                                        
                                         <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
											      
										</div>
									</div>
								</div>
                                
                                
                               
                                
                            </div>
                        </lightning:layoutItem>
                        </lightning:layout>
                    </div>
        </div>
    </div>
                     </lightning:tab>
        </aura:iteration>
        
        <aura:if isTrue="{!v.isOpen}">
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                   
                    <header class="slds-modal__header">
                        <lightning:buttonIcon iconName="utility:close"
                                              onclick="{! c.closeModel }"
                                              alternativeText="close"
                                              variant="bare-inverse"
                                              class="slds-modal__close"/>
                        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Interest Details in PDF</h2>
                    </header>
                    
                    <iframe aura:id="pdfFrame" src="/resource/lcins1_pdfjs/web/viewer.html" width="100%" height="600px"  class="pdfFrame" ></iframe>
                    
                    
                   
                    <footer class="slds-modal__footer">
                        <lightning:button variant="neutral" 
                                          label="Cancel"
                                          title="Cancel"
                                          onclick="{! c.closeModel }"/>
                       
                    </footer>
                </div>
            </section>
    </aura:if>
    </lightning:tabset>
</aura:component>