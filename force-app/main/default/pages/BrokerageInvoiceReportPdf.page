<apex:page applyHtmlTag="false" controller="BrokerageInvoiceReportControllerPdf"  applyBodyTag="false" showHeader="false" sidebar="false" standardStylesheets="false" renderAs="PDF">
    
    <html>
        <head>
          <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=UTF-8"/>
          <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" ></script>
          <style>
             @page {
             size: A4 landscape;
             margin: 0;
             padding-top:40px;
             }
             @media print {
             html, body {
             width: 300mm;
             height: 300mm;
             }
             footer {page-break-after: always;}
             }
             body{
             <!--font-family: samplefont;        -->
             font-family:sans-serif;
             font-size:8px;
             }
              
             .pagePadding{
             padding-top:10px;
             padding-left:10px;
             padding-right:30px;
             }
             .tableBorder{
             border-collapse: collapse;
             }
             .tableBorder td, .tableBorder th {
             border: 1px solid #757575;
             padding:2px;
             width:145px;
             }
              .tableBorder td:first-child{width:200px;}
              
              .tableb{
               border-collapse: collapse;
               table-layout: auto;
               width:145%;
              }
              .tableb td, .tableb th{
               border: 1px solid #757575;
               overflow-wrap: break-word;
               word-break: break-all;
               font-size:8px;
              }
              
             
          </style>
   </head>
        <body>
            
            <br/>
            <p style="text-align:center;font-size:20px;"><b>Brokerage Invoice Report</b></p>
            <div class="pagePadding">
                <apex:outputPanel rendered="{!showAopCpdata}">
                <!--<p style="text-align:left;font-size:20px;"><b>For AOP CPs</b></p>-->
                </apex:outputPanel>
                <apex:repeat value="{!aopCpData}" var="mp" >
                    <apex:variable value="{!0}" var="count" />
                    <apex:outputPanel rendered="{!mp.aopCpCount != 0}">
                    
                    <h2>
                        <b>Sir,<br/>
                        M/S {!mp.aopcpName} has sold over {!mp.aopCpCount} units during the quarter <apex:outputText value="{0, date, MMM-yyyy}"><apex:param value="{!mp.startDate}" /></apex:outputText> to <apex:outputText value="{0, date, MMM-yyyy}"><apex:param value="{!mp.endDate}" /></apex:outputText> entitling it to {!mp.aopCpTotalPercent} % brokerage approved as per ladder scheme {!mp.schemeName} (AOP CP)</b>
                    </h2><br/>
                    <table class="tableb" style="table-layout:auto;width:100%;">
                        <tr>
                            <td colspan="25" style="text-align:center;"><b>BROKERAGE BILL - <apex:outputText value="{0, date, MMM-yyyy}"><apex:param value="{!mp.startDate}" />
                                    </apex:outputText> to <apex:outputText value="{0, date, MMM-yyyy}"><apex:param value="{!mp.endDate}" />
                                    </apex:outputText></b></td>
                        </tr>
                        <tr>
                            <td colspan="11" style="text-align:center;"><b>Unit Details</b></td>
                            <td colspan="4" style="text-align:center;"><b>Base Brokerage Invoice</b></td>
                            <td colspan="8" style="text-align:center;"><b>Ladder Brokerage Invoice</b></td>
                            <td colspan="2" style="text-align:center;"><b>Total Brokerage</b></td>
                        </tr>
                        <tr>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Sr.No.</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Company Code</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Unit Desc.</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Customer Name</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Channel Partner</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Booking</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Booking Date</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Received %</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Registration status</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Agreement Value</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Agreement Value for Brokerage</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">1% invoice (If Eligible)</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">1% brokerage Amt (If Eligible)</td>
                            <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Status</td>-->
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Brokerage % (Base)</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Total Base Brokerage Amt</td>
                            <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Status</td>-->
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Brokerage % (Ladder-1)</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Total Ladder Brokerage Amt</td>
                            <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Status</td>-->
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Brokerage % (Ladder-2) (If Eligible)</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Total Ladder Brokerage Amt (If Eligible)</td>
                            <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Status</td>-->
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Brokerage % (Ladder-3) (If Eligible)</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Total Ladder Brokerage Amt (If Eligible)</td>
                            <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Status</td>-->
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Brokerage % (Ladder-4) (If Eligible)</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Total Ladder Brokerage Amt (If Eligible)</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Total Brokerage %</td>
                            <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">Total Brokerage Amt</td>
                        </tr>
                        <apex:repeat value="{!mp.aopCpdetailist}" var="det">
                            
                            <tr style="page-break-inside:avoid;">
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">
                                <apex:variable value="{!count+1}" var="count" />{!count} </td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.companyCode}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.unitName}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.customerName}</td>
                                <td style="word-break:break-all;border: 1px solid #666;text-align:center;width:1px;">{!det.channelPartner}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.bookingName}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">
                                    <apex:outputText value="{0, date, dd-MM-yyyy}"><apex:param value="{!det.bookingDate}" />
                                    </apex:outputText></td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.receivedPercent}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.regStatus}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.agreVal}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.agreValBrk}</td>    
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.onePerInvoice}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.onePerBrkAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.onePerInvoiceStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.baseBrkerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.baseBrkerageAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.baseBrkerageStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad1Brokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad1BrokerageAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad1BrokerageStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad2Brokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad2BrokerageAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad2BrokerageStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad3Brokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad3BrokerageAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad3BrokerageStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad4Brokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.lad4BrokerageAmt}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.totalBrokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">{!det.totalBrokerageAmt}</td>
                            </tr>
                    
                        </apex:repeat>
                    </table>
                    <br/><br/>
                    </apex:outputPanel>
                </apex:repeat>
            </div>
            
            
            <div class="pagePadding">
                <apex:outputPanel rendered="{!showOtherCpdata}">
                <!--<p style="text-align:left;font-size:20px;"><b>For Other CPs</b></p>-->
                </apex:outputPanel>
                <apex:repeat value="{!otherCpData}" var="mp" >
                    <apex:variable value="{!0}" var="count" />
                    <apex:outputPanel rendered="{!mp.otherCpCount != 0}">
                    
                    <h2>
                        <b>Sir,<br/>
                        M/S {!mp.othercpName} has sold over {!mp.otherCpCount} units during the quarter <apex:outputText value="{0, date, MMM-yyyy}"><apex:param value="{!mp.startDate}" /></apex:outputText> to <apex:outputText value="{0, date, MMM-yyyy}"><apex:param value="{!mp.endDate}" /></apex:outputText> entitling it to {!mp.otherCpTotalPercent} % brokerage approved as per ladder scheme {!mp.schemeName} (Normal CP)</b>
                    </h2>
                    <table class="tableBorder">
                        <tr>
                            <td colspan="23" style="text-align:center;"><b>BROKERAGE BILL - <apex:outputText value="{0, date, MMM-yyyy}"><apex:param value="{!mp.startDate}" />
                                    </apex:outputText> to <apex:outputText value="{0, date, MMM-yyyy}"><apex:param value="{!mp.endDate}" />
                                    </apex:outputText></b></td>
                        </tr>
                        <tr>
                            <td colspan="11" style="text-align:center;"><b>Unit Details</b></td>
                            <td colspan="2" style="text-align:center;"><b>Base Brokerage Invoice</b></td>
                            <td colspan="8" style="text-align:center;"><b>Ladder Brokerage Invoice</b></td>
                            <td colspan="2" style="text-align:center;"><b>Total Brokerage</b></td>
                        </tr>
                        <tr>
                            <td style="text-align:center;">Sr.No.</td>
                            <td style="text-align:center;">Company Code</td>
                            <td style="text-align:center;">Unit Desc.</td>
                            <td style="text-align:center;">Customer Name</td>
                            <td style="text-align:center;">Channel Partner</td>
                            <td style="text-align:center;">Booking</td>
                            <td style="text-align:center;">Booking Date</td>
                            <td style="text-align:center;">Received %</td>
                            <td style="text-align:center;">Registration status</td>
                            <td style="text-align:center;">Agreement Value</td>
                            <td style="text-align:center;">Agreement Value for Brokerage</td>
                            <td style="text-align:center;">Brokerage % (Base)</td>
                            <td style="text-align:center;">Total Base Brokerage Amt</td>
                            <!--<td style="text-align:center;">Status</td>-->
                            <td style="text-align:center;">Brokerage % (Ladder-1)</td>
                            <td style="text-align:center;">Total Ladder Brokerage Amt</td>
                            <!--<td style="text-align:center;">Status</td>-->
                            <td style="text-align:center;">Brokerage % (Ladder-2) (If Eligible)</td>
                            <td style="text-align:center;">Total Ladder Brokerage Amt (If Eligible)</td>
                            <!--<td style="text-align:center;">Status</td>-->
                            <td style="text-align:center;">Brokerage % (Ladder-3) (If Eligible)</td>
                            <td style="text-align:center;">Total Ladder Brokerage Amt (If Eligible)</td>
                            <!--<td style="text-align:center;">Status</td>-->
                            <td style="text-align:center;">Brokerage % (Ladder-4) (If Eligible)</td>
                            <td style="text-align:center;">Total Ladder Brokerage Amt (If Eligible)</td>
                            <td style="text-align:center;">Total Brokerage %</td>
                            <td style="text-align:center;">Total Brokerage Amt</td>
                        </tr>
                        <apex:repeat value="{!mp.otherCpdetailist}" var="det">
                            
                            <tr>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;width:1px;">
                                <apex:variable value="{!count+1}" var="count" />{!count} </td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.companyCode}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.unitName}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.customerName}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.channelPartner}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.bookingName}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">
                                    <apex:outputText value="{0, date, dd-MM-yyyy}"><apex:param value="{!det.bookingDate}" />
                                    </apex:outputText></td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.receivedPercent}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.regStatus}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.agreVal}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.agreValBrk}</td>    
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.baseBrkerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.baseBrkerageAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.baseBrkerageStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad1Brokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad1BrokerageAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad1BrokerageStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad2Brokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad2BrokerageAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad1BrokerageStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad3Brokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad3BrokerageAmt}</td>
                                <!--<td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad1BrokerageStatus}</td>-->
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad4Brokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.lad4BrokerageAmt}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.totalBrokerage}</td>
                                <td style="word-break:word;border: 1px solid #666;text-align:center;">{!det.totalBrokerageAmt}</td>
                            </tr>
                    
                        </apex:repeat>
                    </table>
                    <br/><br/>
                </apex:outputPanel>
                </apex:repeat>
                
            </div>
        </body>
    </html>
</apex:page>